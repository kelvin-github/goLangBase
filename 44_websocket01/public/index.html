<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Sample of websocket with golang</title>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

    <script>
        $(function () {
            var ws = new WebSocket('ws://' + window.location.host + '/ws');
            ws.onmessage = function (e) {
                console.log(event.data)
                $('<li>').text(event.data).appendTo($ul);
            };
            var $ul = $('#msg-list');
        });
        function toSend() {
            var message = document.getElementById("input").value;
            console.log(message)
            ws.send(message);
        }
    </script>

</head>

<body>
    <input id="input" />
    <button onclick="toSend()">Send</button>
    <ul id="msg-list"></ul>
</body>

</html>